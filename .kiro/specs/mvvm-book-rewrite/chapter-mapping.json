{
  "generatedAt": "2025-01-15",
  "description": "Comprehensive mapping from old chapter structure (21 chapters) to new chapter structure (23 chapters)",
  "mappingVersion": "1.0",
  "totalOldChapters": 21,
  "totalNewChapters": 23,
  "summary": {
    "chaptersKept": 3,
    "chaptersRenamed": 10,
    "chaptersMoved": 8,
    "chaptersRemoved": 8,
    "newChaptersAdded": 9
  },
  "mappings": [
    {
      "oldChapterNumber": 1,
      "newChapterNumber": 1,
      "action": "keep",
      "oldTitle": "The Frontend Architecture Crisis",
      "newTitle": "The Frontend Architecture Crisis",
      "oldSection": "The Crisis",
      "newSection": "Foundations",
      "oldFileName": "chapter1.mdx",
      "newFileName": "chapter1.mdx",
      "renamingReason": null,
      "contentChanges": "Update section metadata from 'The Crisis' to 'Foundations'. Replace hypothetical examples with real GreenWatch examples showing architectural problems.",
      "prerequisiteChapters": [],
      "dependentChapters": [2, 3]
    },
    {
      "oldChapterNumber": 2,
      "newChapterNumber": 2,
      "action": "rename",
      "oldTitle": "The Crisis in Contemporary Frontend Development",
      "newTitle": "Why MVVM Matters for Modern Frontend",
      "oldSection": "The Crisis",
      "newSection": "Foundations",
      "oldFileName": "chapter2.mdx",
      "newFileName": "chapter2.mdx",
      "renamingReason": "Original title was too generic and crisis-focused. New title emphasizes the solution (MVVM) rather than just the problem.",
      "contentChanges": "Refocus from problem description to solution introduction. Show concrete examples of how MVVM solves the problems introduced in Chapter 1. Use GreenWatch to demonstrate MVVM benefits.",
      "prerequisiteChapters": [1],
      "dependentChapters": [3]
    },
    {
      "oldChapterNumber": 3,
      "newChapterNumber": 3,
      "action": "keep",
      "oldTitle": "The MVVM Pattern Fundamentals",
      "newTitle": "MVVM Pattern Fundamentals",
      "oldSection": "The Crisis",
      "newSection": "Foundations",
      "oldFileName": "chapter3.mdx",
      "newFileName": "chapter3.mdx",
      "renamingReason": "Minor title cleanup (removed 'The')",
      "contentChanges": "Update section metadata. Ensure all examples use real GreenWatch code. Add clear explanation of Model-View-ViewModel layers with actual implementations.",
      "prerequisiteChapters": [1, 2],
      "dependentChapters": [4, 5, 6, 7]
    },
    {
      "oldChapterNumber": 4,
      "newChapterNumber": 18,
      "action": "move",
      "oldTitle": "Domain-Driven Design for Frontend Applications",
      "newTitle": "Domain-Driven Design for Frontend",
      "oldSection": "The Crisis",
      "newSection": "Advanced Topics",
      "oldFileName": "chapter4.mdx",
      "newFileName": "chapter18.mdx",
      "renamingReason": "Simplified title. DDD is an advanced topic that should come after readers understand basic MVVM patterns.",
      "contentChanges": "Move from early position to advanced section. Ensure DDD concepts are applied to GreenWatch domain model (Greenhouse, Sensor, SensorReading, ThresholdAlert as aggregates and entities).",
      "prerequisiteChapters": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
      "dependentChapters": [22]
    },
    {
      "oldChapterNumber": 5,
      "newChapterNumber": 14,
      "action": "rename_and_move",
      "oldTitle": "Domain Events & Cross-Context Communication",
      "newTitle": "Event-Driven Communication",
      "oldSection": "Framework-Agnostic Core",
      "newSection": "Framework-Agnostic Patterns",
      "oldFileName": "chapter5.mdx",
      "newFileName": "chapter14.mdx",
      "renamingReason": "Simplified title to focus on the pattern rather than specific DDD terminology. Moved to Framework-Agnostic Patterns section to teach patterns first.",
      "contentChanges": "Rewrite to teach event-driven architecture patterns in general terms first, then show event-bus-core as a concrete example. Include alternative implementations (native EventTarget, other libraries). Emphasize framework-agnostic approach.",
      "prerequisiteChapters": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13],
      "dependentChapters": [15, 16, 17]
    },
    {
      "oldChapterNumber": 6,
      "newChapterNumber": 5,
      "action": "rename_and_move",
      "oldTitle": "Reactive State Management with RxJS",
      "newTitle": "ViewModels and Reactive State",
      "oldSection": "Framework-Agnostic Core",
      "newSection": "Core Patterns",
      "oldFileName": "chapter6.mdx",
      "newFileName": "chapter5.mdx",
      "renamingReason": "Broadened title to focus on ViewModels as the primary concept, with reactive state as the enabling mechanism. Moved earlier to Core Patterns section.",
      "contentChanges": "Rewrite to focus on ViewModel layer responsibilities and how reactive state enables the pattern. Use RxJS as the primary example (since it's used in the monorepo), but introduce the concept of reactive state patterns that will be explored in detail in Chapter 13.",
      "prerequisiteChapters": [1, 2, 3, 4],
      "dependentChapters": [6, 7, 8, 9, 10, 11, 12, 13]
    },
    {
      "oldChapterNumber": 7,
      "newChapterNumber": 8,
      "action": "rename_and_move",
      "oldTitle": "Implementing the View Layer – React Edition",
      "newTitle": "React Implementation with Hooks",
      "oldSection": "Framework-Agnostic Core",
      "newSection": "Framework Implementations",
      "oldFileName": "chapter7.mdx",
      "newFileName": "chapter8.mdx",
      "renamingReason": "Simplified title and emphasized hooks as the React-specific pattern. Moved to Framework Implementations section.",
      "contentChanges": "Rewrite to show React-specific MVVM implementation using hooks. Show GreenWatch ViewModels consumed in React components. Demonstrate useEffect for observable subscriptions and custom hooks for ViewModel integration.",
      "prerequisiteChapters": [1, 2, 3, 4, 5, 6, 7],
      "dependentChapters": [9, 10, 11, 12]
    },
    {
      "oldChapterNumber": 8,
      "newChapterNumber": 19,
      "action": "rename_and_move",
      "oldTitle": "Testing ViewModels and Domain Logic",
      "newTitle": "Testing MVVM Applications",
      "oldSection": "Framework-Agnostic Core",
      "newSection": "Advanced Topics",
      "oldFileName": "chapter8.mdx",
      "newFileName": "chapter19.mdx",
      "renamingReason": "Broadened title to cover testing across all MVVM layers, not just ViewModels. Moved to Advanced Topics section.",
      "contentChanges": "Expand to cover testing strategies for Models, ViewModels, and Views. Include Vitest examples from the monorepo. Show testing benefits of MVVM separation of concerns. Include real test files from packages/mvvm-core and other packages.",
      "prerequisiteChapters": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
      "dependentChapters": [22]
    },
    {
      "oldChapterNumber": 9,
      "newChapterNumber": 7,
      "action": "rename_and_move",
      "oldTitle": "Dependency Injection and Service Architecture",
      "newTitle": "Dependency Injection and Lifecycle Management",
      "oldSection": "Framework-Agnostic Core",
      "newSection": "Core Patterns",
      "oldFileName": "chapter9.mdx",
      "newFileName": "chapter7.mdx",
      "renamingReason": "Refined title to emphasize lifecycle management alongside DI. Moved to Core Patterns section.",
      "contentChanges": "Rewrite to cover DI patterns for ViewModels and lifecycle management (creation, mounting, unmounting). Show DI container implementation and framework-specific DI approaches (Angular DI, React Context, Vue provide/inject). Include subscription cleanup patterns.",
      "prerequisiteChapters": [1, 2, 3, 4, 5, 6],
      "dependentChapters": [8, 9, 10, 11, 12]
    },
    {
      "oldChapterNumber": 10,
      "newChapterNumber": 6,
      "action": "rename_and_move",
      "oldTitle": "The Dumb View Philosophy and View Layer Contracts",
      "newTitle": "The View Layer Contract",
      "oldSection": "View Layer Implementations",
      "newSection": "Core Patterns",
      "oldFileName": "chapter10.mdx",
      "newFileName": "chapter6.mdx",
      "renamingReason": "Simplified title while retaining the core concept. Moved to Core Patterns section to establish View layer principles before framework implementations.",
      "contentChanges": "Rewrite to focus on View layer responsibilities and the View-ViewModel contract. Explain 'dumb view' philosophy. Show View implementations across multiple frameworks to demonstrate the pattern. Move earlier to establish principles before framework-specific chapters.",
      "prerequisiteChapters": [1, 2, 3, 4, 5],
      "dependentChapters": [7, 8, 9, 10, 11, 12]
    },
    {
      "oldChapterNumber": 11,
      "newChapterNumber": 9,
      "action": "rename_and_move",
      "oldTitle": "Vue Implementation — Proving Framework Independence",
      "newTitle": "Vue Implementation with Composition API",
      "oldSection": null,
      "newSection": "Framework Implementations",
      "oldFileName": "chapter11.mdx",
      "newFileName": "chapter9.mdx",
      "renamingReason": "Simplified title and emphasized Composition API as the Vue-specific pattern. Original chapter was missing frontmatter.",
      "contentChanges": "Rewrite to show Vue-specific MVVM implementation using Composition API. Show same GreenWatch ViewModels used in React (Chapter 8) now consumed in Vue components. Demonstrate watchEffect for observable subscriptions and composables for ViewModel integration. Highlight framework independence.",
      "prerequisiteChapters": [1, 2, 3, 4, 5, 6, 7, 8],
      "dependentChapters": [10, 11, 12, 22]
    },
    {
      "oldChapterNumber": 12,
      "newChapterNumber": 10,
      "action": "rename_and_move",
      "oldTitle": "Angular Implementation – Native RxJS Integration",
      "newTitle": "Angular Implementation with DI",
      "oldSection": "View Layer Implementations",
      "newSection": "Framework Implementations",
      "oldFileName": "chapter12.mdx",
      "newFileName": "chapter10.mdx",
      "renamingReason": "Emphasized DI as the key Angular pattern while retaining RxJS integration as a benefit. Moved to Framework Implementations section.",
      "contentChanges": "Rewrite to show Angular-specific MVVM implementation using dependency injection. Show same GreenWatch ViewModels used in React and Vue now consumed in Angular components. Demonstrate async pipe for observable subscriptions and Angular services as ViewModel containers. Highlight native RxJS integration benefits.",
      "prerequisiteChapters": [1, 2, 3, 4, 5, 6, 7, 8, 9],
      "dependentChapters": [11, 12, 22]
    },
    {
      "oldChapterNumber": 13,
      "newChapterNumber": null,
      "action": "remove",
      "oldTitle": "Vue Implementation — Proving Framework Independence",
      "newTitle": null,
      "oldSection": null,
      "newSection": null,
      "oldFileName": "chapter13.mdx",
      "newFileName": null,
      "renamingReason": null,
      "contentChanges": "Duplicate of Chapter 11. Content consolidated into Chapter 9 (new numbering).",
      "prerequisiteChapters": [],
      "dependentChapters": [],
      "removalReason": "Duplicate Vue chapter - content consolidated into Chapter 9"
    },
    {
      "oldChapterNumber": 14,
      "newChapterNumber": null,
      "action": "remove",
      "oldTitle": "Cross-Platform — Ionic, React Native, and Electron with Shared ViewModels",
      "newTitle": null,
      "oldSection": null,
      "newSection": null,
      "oldFileName": "chapter14.mdx",
      "newFileName": null,
      "renamingReason": null,
      "contentChanges": "Content about cross-platform implementations will be integrated into framework-specific chapters where relevant.",
      "prerequisiteChapters": [],
      "dependentChapters": [],
      "removalReason": "Cross-platform content to be integrated into framework chapters (8-12) where relevant"
    },
    {
      "oldChapterNumber": 15,
      "newChapterNumber": 22,
      "action": "rename_and_move",
      "oldTitle": "GreenWatch Architecture and Bounded Contexts",
      "newTitle": "Complete Case Studies",
      "oldSection": "The GreenWatch Case Study",
      "newSection": "Real-World Applications",
      "oldFileName": "chapter15.mdx",
      "newFileName": "chapter22.mdx",
      "renamingReason": "Broadened title to include multiple case studies (GreenWatch and e-commerce). Moved to Real-World Applications section.",
      "contentChanges": "Expand to include complete GreenWatch implementation walkthrough across all frameworks, plus e-commerce application as secondary case study. Show how all MVVM patterns come together in real applications. Include comprehensive code examples from monorepo.",
      "prerequisiteChapters": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21],
      "dependentChapters": [23]
    },
    {
      "oldChapterNumber": 16,
      "newChapterNumber": null,
      "action": "remove",
      "oldTitle": "Pragmatic Architecture in the Real World",
      "newTitle": null,
      "oldSection": null,
      "newSection": null,
      "oldFileName": "chapter16.mdx",
      "newFileName": null,
      "renamingReason": null,
      "contentChanges": "Pragmatic architecture content will be integrated into Chapter 22 (Complete Case Studies) and Chapter 23 (Conclusion and Best Practices).",
      "prerequisiteChapters": [],
      "dependentChapters": [],
      "removalReason": "Content to be integrated into Chapters 22 and 23"
    },
    {
      "oldChapterNumber": 17,
      "newChapterNumber": null,
      "action": "remove",
      "oldTitle": "Multi-Framework Implementation Showcase",
      "newTitle": null,
      "oldSection": "The GreenWatch Case Study",
      "newSection": null,
      "oldFileName": "chapter17.mdx",
      "newFileName": null,
      "renamingReason": null,
      "contentChanges": "Multi-framework showcase content will be integrated into Chapter 22 (Complete Case Studies) which covers GreenWatch across all frameworks.",
      "prerequisiteChapters": [],
      "dependentChapters": [],
      "removalReason": "Content consolidated into Chapter 22"
    },
    {
      "oldChapterNumber": 18,
      "newChapterNumber": null,
      "action": "remove",
      "oldTitle": "Comprehensive Testing Strategy at Scale",
      "newTitle": null,
      "oldSection": "Enterprise Scale",
      "newSection": null,
      "oldFileName": "chapter18.mdx",
      "newFileName": null,
      "renamingReason": null,
      "contentChanges": "Testing content consolidated into Chapter 19 (Testing MVVM Applications).",
      "prerequisiteChapters": [],
      "dependentChapters": [],
      "removalReason": "Content consolidated into Chapter 19"
    },
    {
      "oldChapterNumber": 19,
      "newChapterNumber": null,
      "action": "remove",
      "oldTitle": "The Scalable Monolith - Modular Architecture Patterns",
      "newTitle": null,
      "oldSection": "Enterprise Scale",
      "newSection": null,
      "oldFileName": "chapter19.mdx",
      "newFileName": null,
      "renamingReason": null,
      "contentChanges": "Scalable monolith content will be integrated into Chapter 22 (Complete Case Studies) and Chapter 23 (Conclusion and Best Practices) where architectural patterns are discussed.",
      "prerequisiteChapters": [],
      "dependentChapters": [],
      "removalReason": "Content to be integrated into Chapters 22 and 23"
    },
    {
      "oldChapterNumber": 20,
      "newChapterNumber": null,
      "action": "remove",
      "oldTitle": "The Future - Trainable Structures and AI Automation",
      "newTitle": null,
      "oldSection": "Enterprise Scale",
      "newSection": null,
      "oldFileName": "chapter20.mdx",
      "newFileName": null,
      "renamingReason": null,
      "contentChanges": "AI automation content is out of scope for the core MVVM book. May be considered for future supplementary content.",
      "prerequisiteChapters": [],
      "dependentChapters": [],
      "removalReason": "Out of scope for core MVVM book"
    },
    {
      "oldChapterNumber": 21,
      "newChapterNumber": 23,
      "action": "move",
      "oldTitle": "Tradeoffs, Discipline, and the Architect's Path",
      "newTitle": "Conclusion and Best Practices",
      "oldSection": null,
      "newSection": "Real-World Applications",
      "oldFileName": "chapter21.mdx",
      "newFileName": "chapter23.mdx",
      "renamingReason": "Simplified title to focus on practical takeaways. Original chapter was missing frontmatter.",
      "contentChanges": "Rewrite to summarize key MVVM patterns and principles. Include when to use MVVM (and when not to), architectural tradeoffs, best practices, common pitfalls, and next steps for readers. Emphasize framework-agnostic thinking and patterns over libraries philosophy.",
      "prerequisiteChapters": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22],
      "dependentChapters": []
    }
  ],
  "newChapters": [
    {
      "newChapterNumber": 4,
      "title": "Building Framework-Agnostic Models",
      "section": "Core Patterns",
      "fileName": "chapter4.mdx",
      "reason": "New chapter needed to cover Model layer in detail before ViewModels",
      "learningObjectives": [
        "Understand Model layer responsibilities",
        "Learn how to build framework-agnostic Models",
        "Implement domain logic in Models",
        "Use Zod for validation in Models",
        "Understand BaseModel and RestfulApiModel patterns"
      ],
      "coreConceptsToTeach": [
        "Model as domain logic container",
        "Framework independence in Models",
        "Validation with Zod schemas",
        "BaseModel pattern with reactive state",
        "RestfulApiModel for API operations",
        "GreenWatch Model implementations"
      ],
      "realImplementationsToReference": [
        "packages/mvvm-core/src/models/BaseModel.ts",
        "packages/mvvm-core/src/models/RestfulApiModel.ts",
        "packages/models/ (domain models)"
      ],
      "prerequisiteChapters": [1, 2, 3],
      "dependentChapters": [5, 6, 7, 8, 9, 10, 11, 12]
    },
    {
      "newChapterNumber": 11,
      "title": "Lit Web Components Implementation",
      "section": "Framework Implementations",
      "fileName": "chapter11.mdx",
      "reason": "New chapter for Lit framework implementation (apps/mvvm-lit exists in monorepo)",
      "learningObjectives": [
        "Implement MVVM in Lit web components",
        "Subscribe to ViewModel observables in Lit",
        "Manage ViewModel lifecycle in Lit",
        "Build GreenWatch UI with Lit",
        "Understand web components with MVVM"
      ],
      "coreConceptsToTeach": [
        "Lit decorators and reactive properties",
        "Reactive controllers for ViewModel integration",
        "Web components lifecycle with ViewModels",
        "GreenWatch Lit implementation examples",
        "Standards-based web components with MVVM"
      ],
      "realImplementationsToReference": [
        "apps/mvvm-lit/ (all components and ViewModel usage)"
      ],
      "prerequisiteChapters": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
      "dependentChapters": [12, 22]
    },
    {
      "newChapterNumber": 12,
      "title": "Vanilla JavaScript Implementation",
      "section": "Framework Implementations",
      "fileName": "chapter12.mdx",
      "reason": "New chapter for vanilla JS implementation (apps/mvvm-vanilla exists in monorepo)",
      "learningObjectives": [
        "Implement MVVM without any framework",
        "Subscribe to ViewModel observables in vanilla JS",
        "Manage ViewModel lifecycle manually",
        "Build GreenWatch UI with vanilla JS and EJS templates",
        "Understand framework-free MVVM"
      ],
      "coreConceptsToTeach": [
        "Direct observable subscriptions in vanilla JS",
        "Manual DOM manipulation with ViewModels",
        "EJS templates for rendering",
        "GreenWatch vanilla JS implementation examples",
        "Framework independence fully demonstrated"
      ],
      "realImplementationsToReference": [
        "apps/mvvm-vanilla/ (all components and ViewModel usage)"
      ],
      "prerequisiteChapters": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11],
      "dependentChapters": [22]
    },
    {
      "newChapterNumber": 13,
      "title": "Reactive State Management Patterns",
      "section": "Framework-Agnostic Patterns",
      "fileName": "chapter13.mdx",
      "reason": "New chapter to teach reactive state patterns in general terms, using Web Loom libraries as examples",
      "learningObjectives": [
        "Understand reactive state patterns in general terms",
        "Learn why reactive state matters for MVVM",
        "Explore signals pattern with signals-core as example",
        "Explore observable store pattern with store-core as example",
        "Compare alternative approaches (RxJS, native Proxy)",
        "Choose appropriate reactive state approach for your needs"
      ],
      "coreConceptsToTeach": [
        "Reactive state patterns (signals, observables, stores)",
        "Why reactive state enables MVVM architecture",
        "Signals pattern: writable signals, computed values, effects",
        "Observable store pattern: minimal state management",
        "Alternative implementations: RxJS, native Proxy-based reactivity",
        "When to use each approach",
        "Patterns are transferable across libraries"
      ],
      "realImplementationsToReference": [
        "packages/store-core/ (observable store pattern)"
      ],
      "prerequisiteChapters": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
      "dependentChapters": [14, 15, 16, 17]
    },
    {
      "newChapterNumber": 15,
      "title": "Data Fetching and Caching Strategies",
      "section": "Framework-Agnostic Patterns",
      "fileName": "chapter15.mdx",
      "reason": "New chapter to teach data fetching patterns in general terms, using Web Loom libraries as examples",
      "learningObjectives": [
        "Understand data fetching patterns in general terms",
        "Learn why data fetching patterns matter for MVVM",
        "Explore async state management with query-core as example",
        "Implement caching and invalidation strategies",
        "Compare alternative approaches (React Query, SWR, native fetch)",
        "Choose appropriate data fetching approach"
      ],
      "coreConceptsToTeach": [
        "Data fetching patterns: async state, caching, invalidation",
        "Why data fetching patterns enable MVVM ViewModels",
        "Query-core as framework-agnostic example",
        "Caching strategies and cache invalidation",
        "Alternative implementations: React Query, SWR, native fetch with caching",
        "When to use each approach",
        "Framework-agnostic data fetching benefits"
      ],
      "realImplementationsToReference": [
        "packages/query-core/ (data fetching and caching)"
      ],
      "prerequisiteChapters": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14],
      "dependentChapters": [16, 17]
    },
    {
      "newChapterNumber": 16,
      "title": "Headless UI Behaviors",
      "section": "Framework-Agnostic Patterns",
      "fileName": "chapter16.mdx",
      "reason": "New chapter to teach headless UI patterns in general terms, using Web Loom libraries as examples",
      "learningObjectives": [
        "Understand headless UI pattern in general terms",
        "Learn why headless UI patterns matter for MVVM",
        "Explore atomic behaviors with ui-core as example",
        "Implement framework-agnostic UI logic",
        "Understand behavior composition",
        "Compare alternative approaches"
      ],
      "coreConceptsToTeach": [
        "Headless UI pattern: separation of behavior from presentation",
        "Why headless UI enables framework-agnostic MVVM",
        "Atomic behaviors: Dialog, Form, List Selection, Roving Focus, Disclosure",
        "Ui-core as example implementation",
        "Behavior composition into larger patterns",
        "Framework-agnostic UI logic benefits",
        "Alternative implementations where applicable"
      ],
      "realImplementationsToReference": [
        "packages/ui-core/ (headless UI behaviors)"
      ],
      "prerequisiteChapters": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],
      "dependentChapters": [17]
    },
    {
      "newChapterNumber": 17,
      "title": "Composed UI Patterns",
      "section": "Framework-Agnostic Patterns",
      "fileName": "chapter17.mdx",
      "reason": "New chapter to teach composed UI patterns in general terms, using Web Loom libraries as examples",
      "learningObjectives": [
        "Understand composed UI patterns in general terms",
        "Learn why composed patterns matter for MVVM",
        "Explore pattern composition with ui-patterns as example",
        "Implement Master-Detail, Wizard, Modal, Command Palette patterns",
        "Understand event-driven pattern communication",
        "Build framework-agnostic UI patterns"
      ],
      "coreConceptsToTeach": [
        "Composed UI patterns: Master-Detail, Wizard, Modal, Command Palette, Tabbed Interface, Sidebar Shell, Toast Queue",
        "Why composed patterns enable reusable MVVM components",
        "Pattern composition from atomic behaviors",
        "Ui-patterns as example implementation",
        "Event-driven pattern communication",
        "Framework-agnostic pattern implementations",
        "How patterns integrate with ViewModels"
      ],
      "realImplementationsToReference": [
        "packages/ui-patterns/ (composed UI patterns)"
      ],
      "prerequisiteChapters": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16],
      "dependentChapters": []
    },
    {
      "newChapterNumber": 20,
      "title": "Plugin Architecture and Extensibility",
      "section": "Advanced Topics",
      "fileName": "chapter20.mdx",
      "reason": "New chapter for plugin architecture (packages/plugin-core and apps/plugin-react exist in monorepo)",
      "learningObjectives": [
        "Understand plugin architecture patterns",
        "Learn PluginRegistry and lifecycle management",
        "Implement FrameworkAdapter abstraction",
        "Use PluginManifest for plugin configuration",
        "Implement PluginSDK for host-plugin communication",
        "Build runtime-extensible applications"
      ],
      "coreConceptsToTeach": [
        "Plugin architecture patterns",
        "PluginRegistry: framework-agnostic plugin management",
        "Plugin lifecycle states (registered → loading → loaded → mounted → unmounted)",
        "FrameworkAdapter: mounting plugins in different frameworks",
        "PluginManifest: Zod-validated declarative configuration",
        "PluginSDK: API for host communication",
        "Real examples from plugin-core and apps/plugin-react"
      ],
      "realImplementationsToReference": [
        "packages/plugin-core/ (plugin architecture)",
        "apps/plugin-react/ (React plugin host)"
      ],
      "prerequisiteChapters": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
      "dependentChapters": []
    },
    {
      "newChapterNumber": 21,
      "title": "Design Systems and Theming",
      "section": "Advanced Topics",
      "fileName": "chapter21.mdx",
      "reason": "New chapter to teach design system patterns in general terms, using Web Loom libraries as examples",
      "learningObjectives": [
        "Understand design token and theming patterns",
        "Learn why design systems matter for MVVM applications",
        "Explore design token system with design-core as example",
        "Implement CSS custom properties generation",
        "Build dynamic theming with light/dark mode",
        "Create framework-agnostic design systems"
      ],
      "coreConceptsToTeach": [
        "Design token and theming patterns in general terms",
        "Why design systems matter for MVVM applications",
        "Design-core as example implementation",
        "CSS custom properties for theming",
        "Dynamic theming and mode switching",
        "Framework-agnostic design systems benefits",
        "Alternative approaches where applicable"
      ],
      "realImplementationsToReference": [
        "packages/design-core/ (design tokens and theming)",
        "packages/typography-core/ (typography utilities)"
      ],
      "prerequisiteChapters": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
      "dependentChapters": []
    }
  ],
  "prerequisiteRelationships": {
    "description": "Defines the prerequisite relationships between chapters for pedagogical flow",
    "relationships": [
      {
        "chapter": 1,
        "title": "The Frontend Architecture Crisis",
        "prerequisites": [],
        "enables": [2, 3]
      },
      {
        "chapter": 2,
        "title": "Why MVVM Matters for Modern Frontend",
        "prerequisites": [1],
        "enables": [3]
      },
      {
        "chapter": 3,
        "title": "MVVM Pattern Fundamentals",
        "prerequisites": [1, 2],
        "enables": [4, 5, 6, 7]
      },
      {
        "chapter": 4,
        "title": "Building Framework-Agnostic Models",
        "prerequisites": [1, 2, 3],
        "enables": [5, 6, 7, 8, 9, 10, 11, 12]
      },
      {
        "chapter": 5,
        "title": "ViewModels and Reactive State",
        "prerequisites": [1, 2, 3, 4],
        "enables": [6, 7, 8, 9, 10, 11, 12, 13]
      },
      {
        "chapter": 6,
        "title": "The View Layer Contract",
        "prerequisites": [1, 2, 3, 4, 5],
        "enables": [7, 8, 9, 10, 11, 12]
      },
      {
        "chapter": 7,
        "title": "Dependency Injection and Lifecycle Management",
        "prerequisites": [1, 2, 3, 4, 5, 6],
        "enables": [8, 9, 10, 11, 12]
      },
      {
        "chapter": 8,
        "title": "React Implementation with Hooks",
        "prerequisites": [1, 2, 3, 4, 5, 6, 7],
        "enables": [9, 10, 11, 12]
      },
      {
        "chapter": 9,
        "title": "Vue Implementation with Composition API",
        "prerequisites": [1, 2, 3, 4, 5, 6, 7, 8],
        "enables": [10, 11, 12, 22]
      },
      {
        "chapter": 10,
        "title": "Angular Implementation with DI",
        "prerequisites": [1, 2, 3, 4, 5, 6, 7, 8, 9],
        "enables": [11, 12, 22]
      },
      {
        "chapter": 11,
        "title": "Lit Web Components Implementation",
        "prerequisites": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
        "enables": [12, 22]
      },
      {
        "chapter": 12,
        "title": "Vanilla JavaScript Implementation",
        "prerequisites": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11],
        "enables": [22]
      },
      {
        "chapter": 13,
        "title": "Reactive State Management Patterns",
        "prerequisites": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
        "enables": [14, 15, 16, 17]
      },
      {
        "chapter": 14,
        "title": "Event-Driven Communication",
        "prerequisites": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13],
        "enables": [15, 16, 17]
      },
      {
        "chapter": 15,
        "title": "Data Fetching and Caching Strategies",
        "prerequisites": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14],
        "enables": [16, 17]
      },
      {
        "chapter": 16,
        "title": "Headless UI Behaviors",
        "prerequisites": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],
        "enables": [17]
      },
      {
        "chapter": 17,
        "title": "Composed UI Patterns",
        "prerequisites": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16],
        "enables": []
      },
      {
        "chapter": 18,
        "title": "Domain-Driven Design for Frontend",
        "prerequisites": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
        "enables": [22]
      },
      {
        "chapter": 19,
        "title": "Testing MVVM Applications",
        "prerequisites": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
        "enables": [22]
      },
      {
        "chapter": 20,
        "title": "Plugin Architecture and Extensibility",
        "prerequisites": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
        "enables": []
      },
      {
        "chapter": 21,
        "title": "Design Systems and Theming",
        "prerequisites": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
        "enables": []
      },
      {
        "chapter": 22,
        "title": "Complete Case Studies",
        "prerequisites": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21],
        "enables": [23]
      },
      {
        "chapter": 23,
        "title": "Conclusion and Best Practices",
        "prerequisites": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22],
        "enables": []
      }
    ]
  },
  "renamingDecisions": {
    "description": "Detailed rationale for chapter renaming decisions",
    "decisions": [
      {
        "oldTitle": "The Crisis in Contemporary Frontend Development",
        "newTitle": "Why MVVM Matters for Modern Frontend",
        "rationale": "Original title was too problem-focused. New title emphasizes the solution (MVVM) and is more actionable. Readers want to know why MVVM matters, not just that there's a crisis."
      },
      {
        "oldTitle": "The MVVM Pattern Fundamentals",
        "newTitle": "MVVM Pattern Fundamentals",
        "rationale": "Minor cleanup - removed unnecessary 'The' for consistency with other chapter titles."
      },
      {
        "oldTitle": "Domain-Driven Design for Frontend Applications",
        "newTitle": "Domain-Driven Design for Frontend",
        "rationale": "Simplified title - 'Applications' is redundant. Shorter title is more impactful."
      },
      {
        "oldTitle": "Domain Events & Cross-Context Communication",
        "newTitle": "Event-Driven Communication",
        "rationale": "Simplified to focus on the pattern rather than DDD-specific terminology. More accessible to readers not familiar with DDD. Moved to Framework-Agnostic Patterns section to teach patterns first."
      },
      {
        "oldTitle": "Reactive State Management with RxJS",
        "newTitle": "ViewModels and Reactive State",
        "rationale": "Broadened to focus on ViewModels as the primary concept, with reactive state as the enabling mechanism. Original title was too RxJS-specific and didn't emphasize the ViewModel layer."
      },
      {
        "oldTitle": "Implementing the View Layer – React Edition",
        "newTitle": "React Implementation with Hooks",
        "rationale": "Simplified and emphasized hooks as the React-specific pattern. More concise and direct."
      },
      {
        "oldTitle": "Testing ViewModels and Domain Logic",
        "newTitle": "Testing MVVM Applications",
        "rationale": "Broadened to cover testing across all MVVM layers (Models, ViewModels, Views), not just ViewModels and domain logic."
      },
      {
        "oldTitle": "Dependency Injection and Service Architecture",
        "newTitle": "Dependency Injection and Lifecycle Management",
        "rationale": "Refined to emphasize lifecycle management alongside DI. 'Service Architecture' was too vague; lifecycle management is more specific and actionable."
      },
      {
        "oldTitle": "The Dumb View Philosophy and View Layer Contracts",
        "newTitle": "The View Layer Contract",
        "rationale": "Simplified while retaining the core concept. 'Dumb view' philosophy is covered within the chapter but doesn't need to be in the title."
      },
      {
        "oldTitle": "Vue Implementation — Proving Framework Independence",
        "newTitle": "Vue Implementation with Composition API",
        "rationale": "Emphasized Composition API as the Vue-specific pattern. Framework independence is demonstrated throughout all framework chapters, not just Vue."
      },
      {
        "oldTitle": "Angular Implementation – Native RxJS Integration",
        "newTitle": "Angular Implementation with DI",
        "rationale": "Emphasized DI as the key Angular pattern. RxJS integration is still covered as a benefit but DI is more central to Angular's approach."
      },
      {
        "oldTitle": "GreenWatch Architecture and Bounded Contexts",
        "newTitle": "Complete Case Studies",
        "rationale": "Broadened to include multiple case studies (GreenWatch and e-commerce). More comprehensive and valuable to readers."
      },
      {
        "oldTitle": "Tradeoffs, Discipline, and the Architect's Path",
        "newTitle": "Conclusion and Best Practices",
        "rationale": "Simplified to focus on practical takeaways. Original title was too philosophical; new title is more actionable and clear about chapter content."
      }
    ]
  },
  "sectionMapping": {
    "description": "Mapping of old sections to new sections",
    "oldSections": [
      "The Crisis",
      "Framework-Agnostic Core",
      "View Layer Implementations",
      "The GreenWatch Case Study",
      "Enterprise Scale"
    ],
    "newSections": [
      "Foundations",
      "Core Patterns",
      "Framework Implementations",
      "Framework-Agnostic Patterns",
      "Advanced Topics",
      "Real-World Applications"
    ],
    "mappings": [
      {
        "oldSection": "The Crisis",
        "newSection": "Foundations",
        "rationale": "Renamed to be more positive and forward-looking. 'Foundations' emphasizes building blocks rather than problems.",
        "oldChapters": [1, 2, 3, 4],
        "newChapters": [1, 2, 3]
      },
      {
        "oldSection": "Framework-Agnostic Core",
        "newSection": "Core Patterns",
        "rationale": "Renamed to emphasize patterns. Split into 'Core Patterns' (Chapters 4-7) and 'Framework-Agnostic Patterns' (Chapters 13-17) for better organization.",
        "oldChapters": [5, 6, 7, 8, 9],
        "newChapters": [4, 5, 6, 7]
      },
      {
        "oldSection": "View Layer Implementations",
        "newSection": "Framework Implementations",
        "rationale": "Broadened to cover complete framework implementations, not just the View layer. More comprehensive.",
        "oldChapters": [10, 12],
        "newChapters": [8, 9, 10, 11, 12]
      },
      {
        "oldSection": null,
        "newSection": "Framework-Agnostic Patterns",
        "rationale": "New section to teach framework-agnostic patterns (reactive state, events, data fetching, UI behaviors, composed patterns) using Web Loom libraries as examples.",
        "oldChapters": [],
        "newChapters": [13, 14, 15, 16, 17]
      },
      {
        "oldSection": "Enterprise Scale",
        "newSection": "Advanced Topics",
        "rationale": "Renamed to be more inclusive. 'Advanced Topics' covers DDD, testing, plugin architecture, and design systems - not just enterprise concerns.",
        "oldChapters": [18, 19, 20],
        "newChapters": [18, 19, 20, 21]
      },
      {
        "oldSection": "The GreenWatch Case Study",
        "newSection": "Real-World Applications",
        "rationale": "Broadened to include multiple case studies and best practices, not just GreenWatch.",
        "oldChapters": [15, 17],
        "newChapters": [22, 23]
      }
    ]
  },
  "contentChangesSummary": {
    "description": "High-level summary of content changes across all chapters",
    "majorChanges": [
      {
        "change": "Framework-agnostic approach",
        "description": "All chapters now teach patterns and principles in general terms first, then show Web Loom libraries as concrete examples rather than prescriptive solutions.",
        "affectedChapters": [13, 14, 15, 16, 17, 21]
      },
      {
        "change": "Real code integration",
        "description": "All code examples now extracted from actual working implementations in the Web Loom monorepo. No hypothetical or made-up examples.",
        "affectedChapters": "all"
      },
      {
        "change": "GreenWatch as primary case study",
        "description": "GreenWatch greenhouse monitoring system used consistently throughout the book to demonstrate MVVM concepts.",
        "affectedChapters": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 22]
      },
      {
        "change": "Complete framework coverage",
        "description": "Added Lit (Chapter 11) and Vanilla JS (Chapter 12) implementations to demonstrate MVVM across all frameworks in the monorepo.",
        "affectedChapters": [11, 12]
      },
      {
        "change": "New framework-agnostic patterns section",
        "description": "Added entire section (Chapters 13-17) covering reactive state, events, data fetching, UI behaviors, and composed patterns using Web Loom libraries as examples.",
        "affectedChapters": [13, 14, 15, 16, 17]
      },
      {
        "change": "Plugin architecture coverage",
        "description": "Added Chapter 20 to cover plugin architecture patterns using plugin-core and apps/plugin-react implementations.",
        "affectedChapters": [20]
      },
      {
        "change": "Design systems coverage",
        "description": "Added Chapter 21 to cover design token and theming patterns using design-core and typography-core implementations.",
        "affectedChapters": [21]
      },
      {
        "change": "Consolidated testing content",
        "description": "Consolidated testing content from multiple chapters into comprehensive Chapter 19 covering all MVVM layers.",
        "affectedChapters": [19]
      },
      {
        "change": "Removed out-of-scope content",
        "description": "Removed AI automation (old Chapter 20) and consolidated cross-platform, pragmatic architecture, and scalable monolith content into other chapters.",
        "affectedChapters": []
      }
    ]
  },
  "notes": [
    "This mapping document provides a complete guide for rewriting all 21 existing chapters and creating 9 new chapters.",
    "Each mapping entry includes old/new chapter numbers, titles, sections, renaming rationale, content changes, and prerequisite relationships.",
    "The new structure expands from 21 to 23 chapters to accommodate the Framework-Agnostic Patterns section.",
    "All chapters will use real code from the Web Loom monorepo - no hypothetical examples.",
    "The book follows a principles-first, library-agnostic approach: teach patterns, then show Web Loom libraries as examples.",
    "GreenWatch is the primary case study throughout, with e-commerce as a secondary case study in Chapter 22.",
    "Prerequisite relationships ensure proper pedagogical flow from beginner to advanced concepts.",
    "Framework implementations (Chapters 8-12) demonstrate the same ViewModels used across different frameworks.",
    "Framework-agnostic patterns (Chapters 13-17) teach patterns that support MVVM architecture.",
    "Advanced topics (Chapters 18-21) cover DDD, testing, plugin architecture, and design systems.",
    "Real-world applications (Chapters 22-23) provide complete case studies and best practices."
  ]
}
