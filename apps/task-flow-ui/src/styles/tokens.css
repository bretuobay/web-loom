/**
 * @name: tokens.css
 * @description: Design tokens for the Task Flow application.
 * This file centralizes the visual design attributes of the application,
 * building upon the @web-loom/design-core foundation.
 */

/* 1. CORE IMPORTS */
/* Import the foundational design tokens from the design-core package. */
@import '@web-loom/design-core/css/colors.css';
@import '@web-loom/design-core/css/spacing.css';
@import '@web-loom/design-core/css/typography.css';
@import '@web-loom/design-core/css/shadows.css';
@import '@web-loom/design-core/css/radii.css';
@import '@web-loom/design-core/css/borders.css';
@import '@web-loom/design-core/css/transitions.css';
@import '@web-loom/design-core/css/opacity.css';
@import '@web-loom/design-core/css/z-index.css';

/* 2. BASE TOKENS */
/* Establish the foundational theme settings for both light and dark modes. */
:root {
  --app-background-gradient: radial-gradient(circle at 10% -20%, rgba(25, 25, 25, 0.95) 0%, rgba(9, 11, 15, 0.9) 40%, #050509 100%);
  --app-accent-gradient: linear-gradient(135deg, rgba(218, 221, 225, 0.6), rgba(183, 190, 197, 0.6));
  --focus-ring-color: rgba(59, 130, 246, 0.8);
}

/* 3. SEMANTIC TOKENS */
/* Define semantic tokens that give context to the design system. */
:root {
  /* Brand Colors */
  --brand-primary: #1E40AF;
  --brand-secondary: #64748B;

  /* Project Status Palette */
  --project-status-active: var(--brand-primary);
  --project-status-completed: var(--colors-success);
  --project-status-onhold: var(--colors-warning);
  --project-status-overdue: var(--colors-danger);

  /* Task Priority Indicators */
  --task-priority-critical: #dc2626;
  --task-priority-high: var(--colors-danger);
  --task-priority-medium: var(--colors-warning);
  --task-priority-low: var(--brand-secondary);

  /* Interactive Elements */
  --focus-ring: 2px solid var(--focus-ring-color);

  /* Layout */
  --dashboard-gutter: var(--spacing-6);
  --dashboard-radius: var(--radii-xl);
  --layout-max-width: 1200px;
  --layout-max-width-md: 480px;
  --layout-max-width-sm: 320px;
  --layout-min-height-lg: 160px;
  --layout-min-height-touch: 44px;
  --spacing-px: -1px;
  --spacing-px-2: 2px;
  --spacing-px-3: 3px;
  --spacing-px-negative-3: -3px;
  --backdrop-filter-lg: blur(18px);

  /* Grid Templates */
  --grid-template-columns-cards: repeat(auto-fit, minmax(260px, 1fr));
  --grid-template-columns-form: repeat(auto-fit, minmax(150px, 1fr));
  --grid-template-columns-desktop: minmax(0, 2fr) minmax(280px, 360px);
  --grid-template-columns-desktop-alt: minmax(0, 1fr) minmax(320px, 360px);
  --grid-template-columns-desktop-project-grid: repeat(auto-fill, minmax(280px, 1fr));
  --grid-template-columns-tablet: minmax(0, 1fr) minmax(280px, 320px);
  --grid-template-columns-mobile: 1fr;

  /* Z-index layers */
  --zIndex-dropdown: 100;
  --zIndex-sticky: 200;
  --zIndex-modal: 1000;
  --zIndex-overlay: 900;
  --zIndex-toast: 1100;
}

/* 4. COMPONENT TOKENS */
/* Define tokens for specific UI components. */
:root {
  /* Dashboard */
  --dashboard-header-bg: #0f172a;
  --dashboard-sidebar-bg: var(--colors-background-elevated);
  --dashboard-content-bg: var(--colors-background-page);

  /* Cards */
  --card-bg: var(--colors-background-surface);
  --card-border: var(--colors-border-default);
  --card-shadow: var(--shadows-sm);
  --card-hover-shadow: var(--shadows-md);
  --card-radius: var(--radii-lg);
  --card-padding: var(--spacing-4);

  /* Buttons */
  --btn-primary-bg: var(--brand-primary);
  --btn-primary-text: var(--colors-text-inverted);
  --btn-secondary-bg: var(--colors-background-surface);
  --btn-secondary-text: var(--colors-text-primary);
  --btn-success-bg: var(--colors-success);
  --btn-danger-bg: var(--colors-danger);
  --btn-radius: var(--radii-full);

  /* Badges */
  --badge-radius: var(--radii-full);
  --badge-glow: 0 0 12px var(--focus-ring-color);
  --badge-muted-bg: var(--panel-surface);
  --badge-muted-text: var(--colors-text-secondary);
  --badge-accent-bg: rgba(56, 189, 248, 0.15);
  --badge-accent-text: var(--viz-chart-secondary);
  --badge-success-bg: rgba(16, 185, 129, 0.15);
  --badge-success-text: var(--project-status-completed);
  --badge-warning-bg: rgba(251, 191, 36, 0.15);
  --badge-warning-text: var(--task-priority-medium);

  /* Inputs */
  --input-border-default: rgba(148, 163, 184, 0.4);
  --input-border-strong: rgba(99, 102, 241, 0.65);

  /* Task Board */
  --taskboard-bg: rgba(12, 18, 44, 0.92);
  --taskboard-border: rgba(59, 130, 246, 0.35);
  --taskboard-shadow: 0 30px 60px rgba(2, 6, 23, 0.8);
  --taskcard-contrast-bg: rgba(15, 23, 42, 0.65);
  --taskcard-border-rim: rgba(59, 130, 246, 0.25);
  --taskcard-striped-bg: linear-gradient(120deg, rgba(14, 165, 233, 0.08) 0%, rgba(99, 102, 241, 0.08) 50%, rgba(14, 165, 233, 0.03) 100%);
  --taskcard-glow: 0 20px 40px rgba(59, 130, 246, 0.35);
}

/* 5. THEME-SPECIFIC OVERRIDES */
[data-theme='dark'] {
  --dashboard-header-bg: #0f172a;
  --dashboard-sidebar-bg: rgba(15, 23, 42, 0.7);
  --dashboard-content-bg: #020617;
  --card-bg: rgba(14, 22, 40, 0.85);
  --card-border: rgba(144, 202, 255, 0.4);

  /* Background gradient for dark mode */
  --app-background-gradient: radial-gradient(circle at 10% -20%, rgba(25, 25, 25, 0.95) 0%, rgba(9, 11, 15, 0.9) 40%, #050509 100%);

  /* Panel and surface colors for dark mode */
  --panel-surface: rgba(15, 23, 42, 0.85);
  --panel-border: rgba(148, 163, 184, 0.25);
  --hero-surface: rgba(15, 23, 42, 0.7);
  --glass-panel-border: rgba(148, 163, 184, 0.2);
  --glass-panel-shadow: 0 20px 45px rgba(0, 0, 0, 0.5);

  /* Task card tokens for dark mode */
  --taskcard-bg: rgba(20, 30, 50, 0.9);
  --taskcard-border: rgba(148, 163, 184, 0.2);
  --taskcard-radius: 1rem;
  --taskcard-padding: 1.25rem;
  --taskcard-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
  --taskcard-hover-shadow: 0 15px 35px rgba(59, 130, 246, 0.25);

  /* Progress bar tokens */
  --progress-track: rgba(148, 163, 184, 0.2);
  --progress-thumb: var(--btn-primary-bg);

  /* Chart/visualization tokens */
  --viz-chart-secondary: #60a5fa;

  /* Muted text for dark mode - ensure good contrast */
  --colors-text-muted: #94a3b8;

  /* Skeleton loading tokens */
  --skeleton-base: rgba(148, 163, 184, 0.1);
  --skeleton-highlight: rgba(148, 163, 184, 0.2);

  /* Badge overrides for dark mode */
  --badge-accent-text: #60a5fa;
  --badge-success-text: #4ade80;
  --badge-warning-text: #facc15;
}

[data-theme='light'] {
  --dashboard-header-bg: var(--colors-background-surface);
  --dashboard-sidebar-bg: var(--colors-background-page);
  --dashboard-content-bg: #f8fafc;
  --card-bg: #ffffff;
  --card-border: rgba(15, 23, 42, 0.1);

  /* Background gradient for light mode */
  --app-background-gradient: linear-gradient(180deg, #f8fafc 0%, #f1f5f9 100%);

  /* Panel and surface colors for light mode */
  --panel-surface: #ffffff;
  --panel-border: rgba(15, 23, 42, 0.1);
  --hero-surface: rgba(255, 255, 255, 0.9);
  --glass-panel-border: rgba(15, 23, 42, 0.08);
  --glass-panel-shadow: 0 10px 25px rgba(15, 23, 42, 0.1);

  /* Task card tokens for light mode */
  --taskcard-bg: #ffffff;
  --taskcard-border: rgba(15, 23, 42, 0.1);
  --taskcard-radius: 1rem;
  --taskcard-padding: 1.25rem;
  --taskcard-shadow: 0 4px 15px rgba(15, 23, 42, 0.08);
  --taskcard-hover-shadow: 0 10px 25px rgba(15, 23, 42, 0.12);

  /* Progress bar tokens */
  --progress-track: rgba(15, 23, 42, 0.1);
  --progress-thumb: var(--btn-primary-bg);

  /* Chart/visualization tokens */
  --viz-chart-secondary: #3b82f6;

  /* Muted text for light mode */
  --colors-text-muted: #64748b;

  /* Skeleton loading tokens */
  --skeleton-base: rgba(15, 23, 42, 0.08);
  --skeleton-highlight: rgba(15, 23, 42, 0.15);

  /* Badge overrides for light mode */
  --badge-accent-text: #3b82f6;
  --badge-success-text: #10b981;
  --badge-warning-text: #f59e0b;
}
