---
title: 'UI Core'
summary: 'Framework-agnostic headless UI behaviors for modern web applications.'
topicTitle: 'Published Packages'
topicSlug: 'packages'
---

# UI Core

`@web-loom/ui-core` provides atomic UI interaction behaviors that work across different frameworks (React, Vue, Angular) or with vanilla JavaScript. All behaviors are built on top of `@web-loom/store-core` for reactive state management and are completely headless - providing logic without assumptions about styling or DOM structure.

## Features

- **Framework-agnostic**: Works with React, Vue, Angular, or vanilla JS
- **Lightweight**: Each behavior is &lt;2KB gzipped with tree-shaking support
- **Type-safe**: Full TypeScript support with comprehensive type definitions
- **Headless**: Pure logic, no styling or DOM assumptions
- **Composable**: Behaviors can be combined to create complex patterns
- **Batteries included**: Framework adapters for React, Vue, and Angular
- **Reactive**: Built on observable patterns for automatic UI updates

## Installation

```bash
npm install @web-loom/ui-core
```

## Available Behaviors

### Dialog Behavior

Manages modal dialog state with open/close/toggle actions.

```typescript
import { createDialogBehavior } from '@web-loom/ui-core';

const dialog = createDialogBehavior({
  id: 'settings-dialog',
  onOpen: (content) => console.log('Dialog opened with:', content),
  onClose: () => console.log('Dialog closed'),
});

// Open the dialog
dialog.actions.open({ title: 'Settings', tab: 'general' });

// Subscribe to changes
const unsubscribe = dialog.subscribe((state) => {
  console.log('Dialog state:', state);
});

// Clean up
unsubscribe();
dialog.destroy();
```

### Disclosure Behavior

Controls expandable/collapsible content sections (accordions, dropdowns).

```typescript
import { createDisclosureBehavior } from '@web-loom/ui-core';

const disclosure = createDisclosureBehavior({
  id: 'faq-item',
  initialExpanded: false,
  onToggle: (isExpanded) => console.log('Expanded:', isExpanded),
});

disclosure.actions.toggle();
console.log(disclosure.getState().isExpanded); // true
```

### Form Behavior

Manages form state with validation, dirty tracking, and submission handling.

```typescript
import { createFormBehavior } from '@web-loom/ui-core';

const form = createFormBehavior({
  initialValues: { email: '', password: '' },
  validateOnChange: true,
  validateOnBlur: true,
  onSubmit: async (values) => {
    console.log('Submitting:', values);
  },
});

// Set field value
form.actions.setFieldValue('email', 'user@example.com');

// Set field error
form.actions.setFieldError('email', 'Invalid email format');

// Submit form
await form.actions.submitForm();
```

### List Selection Behavior

Manages single or multi-select list interactions with keyboard navigation support.

```typescript
import { createListSelection } from '@web-loom/ui-core';

const selection = createListSelection({
  items: ['item-1', 'item-2', 'item-3'],
  mode: 'multi',
  onSelectionChange: (selected) => console.log('Selected:', selected),
});

// Select items
selection.actions.select('item-1');
selection.actions.toggleSelection('item-2');
```

### Roving Focus Behavior

Implements keyboard navigation for composite widgets (toolbars, menus, grids).

```typescript
import { createRovingFocus } from '@web-loom/ui-core';

const rovingFocus = createRovingFocus({
  items: ['button-1', 'button-2', 'button-3'],
  orientation: 'horizontal',
  loop: true,
  onFocusChange: (focusedId) => console.log('Focused:', focusedId),
});

// Move focus
rovingFocus.actions.moveNext();
rovingFocus.actions.movePrevious();
```

### Keyboard Shortcuts Behavior

Manages keyboard shortcut registration and execution with platform normalization.

```typescript
import { createKeyboardShortcuts } from '@web-loom/ui-core';

const shortcuts = createKeyboardShortcuts({
  scope: 'global',
  onShortcutExecuted: (key) => console.log(`Executed: ${key}`),
});

// Register shortcuts
shortcuts.actions.registerShortcut({
  key: 'Ctrl+K',
  handler: () => console.log('Command palette opened'),
});
```

### Undo/Redo Stack Behavior

Maintains an immutable history of states with undo/redo operations.

```typescript
import { createUndoRedoStack } from '@web-loom/ui-core';

const undoRedo = createUndoRedoStack<EditorState>({
  initialState: { content: '', cursor: 0 },
  maxLength: 100,
});

// Push new states
undoRedo.actions.pushState({ content: 'Hello', cursor: 5 });
undoRedo.actions.pushState({ content: 'Hello World', cursor: 11 });

// Undo
undoRedo.actions.undo();

// Redo
undoRedo.actions.redo();
```

### Drag-and-Drop Behavior

Manages drag-and-drop interaction state with validation and callbacks.

```typescript
import { createDragDropBehavior } from '@web-loom/ui-core';

const dragDrop = createDragDropBehavior({
  onDrop: (draggedItem, dropTarget, data) => {
    console.log('Dropped', draggedItem, 'on', dropTarget);
  },
  validateDrop: (draggedItem, dropTarget) => {
    return dropTarget !== 'restricted-zone';
  },
});

// Register drop zones
dragDrop.actions.registerDropZone('zone-1');

// Start dragging
dragDrop.actions.startDrag('item-1', { type: 'card' });

// Perform drop
dragDrop.actions.drop('zone-1');
```

## Theme integration

UI Core tokens assume a theming system on top of `@web-loom/design-core`. That package provides `createTheme`, `applyTheme`, and `setTheme` to compile token overrides into CSS variables scoped by `[data-theme="name"]` selectors.

```ts
import { createTheme, applyTheme, setTheme } from '@web-loom/design-core/utils';

const darkTheme = createTheme('dark', {
  colors: {
    background: { page: '#050609', surface: '#0d0f14' },
    text: { primary: '#f3f4f6' },
  },
});

await applyTheme(darkTheme);
setTheme('dark'); // toggles the data-theme attribute
```
