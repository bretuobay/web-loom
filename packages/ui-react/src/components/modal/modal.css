:root {
  --ui-modal-backdrop-opacity: 0.55;
  --ui-modal-border-radius: var(--radius-lg, 12px);
  --ui-modal-shadow: var(--shadow-xl, 0 25px 50px -12px rgba(0, 0, 0, 0.25));
  --ui-modal-header-padding: var(--spacing-lg, 24px);
  --ui-modal-body-padding: var(--spacing-lg, 24px);
  --ui-modal-footer-padding: var(--spacing-md, 16px);
  --ui-modal-footer-gap: var(--spacing-md, 16px);
  --ui-modal-max-width: 520px;
  --ui-modal-close-size: 32px;
}

.loom-modal-overlay {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: flex-start;
  justify-content: center;
  padding: var(--spacing-lg, 24px);
  background-color: rgba(0, 0, 0, 0);
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition:
    opacity var(--transition-base, 200ms) ease,
    background-color var(--transition-base, 200ms) ease;
  z-index: var(--z-index-modal, 1050);
}

.loom-modal-overlay.loom-modal-open,
.loom-modal-overlay.loom-modal-closing {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  background-color: rgba(0, 0, 0, var(--ui-modal-backdrop-opacity, 0.55));
}

.loom-modal-overlay.loom-modal-closing {
  opacity: 0;
  pointer-events: none;
}

.loom-modal-overlay.loom-modal-centered {
  align-items: center;
}

.loom-modal-dialog {
  position: relative;
  margin: auto;
  width: min(var(--ui-modal-max-width, 520px), 100%);
  max-height: calc(100vh - 64px);
  border-radius: var(--ui-modal-border-radius, 16px);
  background: var(--ui-color-bg-elevated, var(--color-themed-light-background, #ffffff));
  color: var(--ui-color-text, #111);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  box-shadow: var(--ui-modal-shadow, 0 25px 50px -12px rgba(0, 0, 0, 0.25));
  transform: translateY(-24px) scale(0.95);
  opacity: 0;
  transition:
    transform var(--transition-base, 200ms) var(--ease-out, cubic-bezier(0.4, 0, 0.2, 1)),
    opacity var(--transition-base, 200ms) var(--ease-out, cubic-bezier(0.4, 0, 0.2, 1));
}

.loom-modal-overlay.loom-modal-open .loom-modal-dialog,
.loom-modal-overlay.loom-modal-closing .loom-modal-dialog {
  transform: translateY(0) scale(1);
  opacity: 1;
}

.loom-modal-overlay.loom-modal-closing .loom-modal-dialog {
  transform: translateY(-12px) scale(0.98);
  opacity: 0;
}

.loom-modal-header {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm, 12px);
  padding: var(--ui-modal-header-padding, 24px);
  border-bottom: 1px solid var(--color-neutral-gray-200, #e5e7eb);
  position: relative;
  min-height: 56px;
}

.loom-modal-title {
  margin: 0;
  font-size: var(--font-size-xl, 1.25rem);
  font-weight: 600;
  line-height: 1.3;
  color: inherit;
  flex: 1;
}

.loom-modal-icon-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: var(--color-neutral-gray-100, #f3f4f6);
  color: var(--color-neutral-gray-700, #374151);
}

.loom-modal-icon-wrapper svg {
  width: 20px;
  height: 20px;
}

.loom-modal-body {
  padding: var(--ui-modal-body-padding, 24px);
  overflow-y: auto;
  color: var(--ui-color-text-secondary, #4b5563);
  flex: 1;
  min-height: 80px;
}

.loom-modal-footer {
  padding: var(--ui-modal-footer-padding, 16px);
  border-top: 1px solid var(--color-neutral-gray-200, #e5e7eb);
  background: var(--color-neutral-gray-50, #f9fafb);
  display: flex;
  justify-content: flex-end;
  gap: var(--ui-modal-footer-gap, 16px);
}

.loom-modal-footer-actions {
  display: flex;
  gap: var(--spacing-sm, 12px);
}

.loom-modal-close-btn {
  position: absolute;
  top: var(--spacing-sm, 12px);
  right: var(--spacing-sm, 12px);
  width: var(--ui-modal-close-size, 32px);
  height: var(--ui-modal-close-size, 32px);
  border: none;
  background: transparent;
  color: var(--color-neutral-gray-500, #6b7280);
  font-size: 1.25rem;
  font-weight: 600;
  cursor: pointer;
  line-height: 1;
  border-radius: 50%;
  transition: color var(--transition-fast, 150ms) ease, background-color var(--transition-fast, 150ms) ease;
}

.loom-modal-close-btn:hover,
.loom-modal-close-btn:focus-visible {
  color: var(--color-neutral-gray-800, #111827);
  background: var(--color-neutral-gray-100, #f3f4f6);
}

.loom-modal-live-region {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}

.loom-modal-dialog[data-modal-type='info'] .loom-modal-icon-wrapper {
  color: var(--ui-color-info, #1677ff);
}

.loom-modal-dialog[data-modal-type='success'] .loom-modal-icon-wrapper {
  color: var(--ui-color-success, #52c41a);
}

.loom-modal-dialog[data-modal-type='warning'] .loom-modal-icon-wrapper {
  color: var(--ui-color-warning, #f59e0b);
}

.loom-modal-dialog[data-modal-type='error'] .loom-modal-icon-wrapper {
  color: var(--ui-color-error, #ef4444);
}

@media (max-width: 600px) {
  .loom-modal-overlay {
    padding: var(--spacing-md, 16px);
  }

  .loom-modal-dialog {
    width: 100%;
    max-height: calc(100vh - 32px);
    border-radius: calc(var(--ui-modal-border-radius, 16px) * 0.9);
  }
}
